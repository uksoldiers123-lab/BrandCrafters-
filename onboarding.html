<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Onboarding — BrandCrafters</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <script defer src="script.js"></script>
</head>
<body>

<header class="site-header">
  <div class="container header-inner">
    <a class="logo" href="index.html">
      <span class="logo-mark">BC</span><span>BrandCrafters</span>
    </a>

    <nav class="nav desktop-nav">
      <a href="index.html" class="nav-link">Home</a>
      <a href="pricing.html" class="nav-link">Pricing</a>
      <a href="customer-inquiry.html" class="nav-link">Customer Portal</a>
    </nav>

    <button class="menu-toggle" aria-label="Open menu" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
  </div>

  <nav class="mobile-drawer" aria-hidden="true">
    <div class="drawer-header">
      <a class="logo" href="index.html">
        <span class="logo-mark">BC</span><span>BrandCrafters</span>
      </a>
      <button class="menu-close" aria-label="Close menu">✕</button>
    </div>
    <a class="drawer-link" href="index.html">Home</a>
    <a class="drawer-link" href="pricing.html">Pricing</a>
    <a class="drawer-link" href="customer-inquiry.html">Customer Portal</a>
  </nav>

  <div class="drawer-backdrop" aria-hidden="true"></div>
</header>

<section class="page-hero">
  <div class="container">
    <h1 class="headline">Website Onboarding</h1>
    <p class="subhead">
      Thanks for your purchase. This form gives us everything we need to build your website quickly.
    </p>
  </div>
</section>

<section class="container inquiry-section">
  <form id="onboardingForm" class="form glass" autocomplete="on">

    <h2>1. Contact & Business Info</h2>

    <label>Full Name
      <input name="name" required />
    </label>

    <label>Email (same one used at checkout)
      <input type="email" name="email" required />
    </label>

    <label>Business Name
      <input name="business" required />
    </label>

    <label>Phone (optional)
      <input name="phone" />
    </label>

    <label>Current Website / Social Link
      <input name="current_web" />
    </label>

    <hr>

    <h2>2. Package Purchased</h2>

    <label>Website Package
      <select name="package" required>
        <option value="Starter Website">Starter Website ($700)</option>
        <option value="Standard Business Site">Standard Business Site ($900)</option>
        <option value="Professional Website">Professional Website ($1,300)</option>
        <option value="Premium Website">Premium Website ($2,000)</option>
      </select>
    </label>

    <label>Add-ons
      <div style="margin-top:6px; display:grid; gap:4px;">
        <label><input type="checkbox" name="addons" value="Basic Stripe Setup" /> Basic Stripe Setup</label>
        <label><input type="checkbox" name="addons" value="Full Stripe Integration" /> Full Stripe Integration</label>
        <label><input type="checkbox" name="addons" value="Care Lite" /> Care Lite Maintenance</label>
        <label><input type="checkbox" name="addons" value="Care Standard" /> Care Standard Maintenance</label>
        <label><input type="checkbox" name="addons" value="Care Pro" /> Care Pro Maintenance</label>
        <label><input type="checkbox" name="addons" value="None" /> No Add-ons</label>
      </div>
    </label>

    <hr>

    <h2>3. Website Pages</h2>

    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:6px;margin-bottom:12px;">
      <label><input type="checkbox" name="pages" value="Home" /> Home</label>
      <label><input type="checkbox" name="pages" value="About" /> About</label>
      <label><input type="checkbox" name="pages" value="Services" /> Services</label>
      <label><input type="checkbox" name="pages" value="Menu/Pricing" /> Menu/Pricing</label>
      <label><input type="checkbox" name="pages" value="Gallery" /> Gallery</label>
      <label><input type="checkbox" name="pages" value="FAQ" /> FAQ</label>
      <label><input type="checkbox" name="pages" value="Contact" /> Contact</label>
      <label><input type="checkbox" name="pages" value="Blog" /> Blog</label>
      <label><input type="checkbox" name="pages" value="Other" /> Other</label>
    </div>

    <label>Page Notes
      <textarea name="page_notes" rows="4"></textarea>
    </label>

    <hr>

    <h2>4. Style & Branding</h2>

    <label>Preferred Colors
      <textarea name="colors" rows="2"></textarea>
    </label>

    <label>Style/Vibe
      <select name="style_vibe">
        <option value="">Choose vibe</option>
        <option value="Clean & Modern">Clean & Modern</option>
        <option value="Bold & Loud">Bold & Loud</option>
        <option value="Minimal">Minimal</option>
        <option value="Professional">Professional</option>
      </select>
    </label>

    <label>Example Sites
      <textarea name="example_sites" rows="3"></textarea>
    </label>

    <label>Logo Info
      <textarea name="logo_info" rows="3"></textarea>
    </label>

    <hr>

    <h2>5. Domain & Email</h2>

    <label>Do you already own a domain?
      <select name="has_domain">
        <option value="">Select</option>
        <option>Yes</option>
        <option>No</option>
        <option>Not sure</option>
      </select>
    </label>

    <label>Domain Details
      <textarea name="domain_details" rows="3"></textarea>
    </label>

    <label>Email Needs
      <textarea name="email_needs" rows="3"></textarea>
    </label>

    <hr>

    <h2>6. Stripe Integration (If Purchased)</h2>

    <label>Do you have a Stripe account?
      <select name="has_stripe">
        <option value="">Select</option>
        <option>Yes</option>
        <option>No</option>
        <option>Not sure</option>
      </select>
    </label>

    <label>How will you use Stripe?
      <textarea name="stripe_usage" rows="3"></textarea>
    </label>

    <label>Main Button Text
      <input name="primary_button_text" placeholder="Pay Now, Book Now, etc." />
    </label>

    <hr>

    <h2>7. Timing & Notes</h2>

    <label>Launch Window
      <select name="launch_window">
        <option value="">Select</option>
        <option>1–2 weeks</option>
        <option>2–3 weeks</option>
        <option>3–5 weeks</option>
        <option>No rush</option>
      </select>
    </label>

    <label>Deadlines
      <textarea name="deadlines" rows="2"></textarea>
    </label>

    <label>Anything else?
      <textarea name="extra_notes" rows="4"></textarea>
    </label>

    <button class="btn btn-primary" type="submit">Submit Onboarding</button>
    <p id="formMsg" class="form-note"></p>
  </form>
</section>

<footer class="site-footer">
  <div class="container footer-inner">
    <div>© <span id="year"></span> BrandCrafters — A division of Egyptian Hype LLC</div>
  </div>
</footer>

<!-- Supabase Wiring -->
<script type="module">
  import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

  const supabase = createClient(
    "https://vekoulqehexqosgwacwa.supabase.co",
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZla291bHFlaGV4cW9zZ3dhY3dhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxNTYxNTUsImV4cCI6MjA3ODczMjE1NX0.B9gSHAb_cLCcjCzXM5FegDIKsuQwHCqAFXslfAzzrQ4"
  );

  document.getElementById("year").textContent = new Date().getFullYear();

  const form = document.getElementById("onboardingForm");
  const msg = document.getElementById("formMsg");
  const submitBtn = form.querySelector("button[type='submit']");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    msg.textContent = "Submitting...";
    submitBtn.disabled = true;

    const fd = new FormData(form);
    const addons = fd.getAll("addons");
    const pages = fd.getAll("pages");

    const payload = {
      name: fd.get("name"),
      email: fd.get("email"),
      business_name: fd.get("business"),
      phone: fd.get("phone"),
      current_web: fd.get("current_web"),
      package_name: fd.get("package"),
      addons,
      pages,
      page_notes: fd.get("page_notes"),
      colors: fd.get("colors"),
      style_vibe: fd.get("style_vibe"),
      example_sites: fd.get("example_sites"),
      logo_info: fd.get("logo_info"),
      has_domain: fd.get("has_domain"),
      domain_details: fd.get("domain_details"),
      email_needs: fd.get("email_needs"),
      has_stripe: fd.get("has_stripe"),
      stripe_usage: fd.get("stripe_usage"),
      primary_button_text: fd.get("primary_button_text"),
      launch_window: fd.get("launch_window"),
      deadlines: fd.get("deadlines"),
      extra_notes: fd.get("extra_notes"),
    };

    const { error } = await supabase
      .from("onboarding_submissions")
      .insert(payload);

    if (error) {
      msg.textContent = "Error saving your info. Try again.";
      console.error(error);
    } else {
      msg.textContent = "Submitted successfully!";
      form.reset();
    }

    submitBtn.disabled = false;
  });
</script>

</body>
</html>
